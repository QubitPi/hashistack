"use strict";(self.webpackChunkhashicorp_aws=self.webpackChunkhashicorp_aws||[]).push([[4152],{1016:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>t,metadata:()=>r,toc:()=>h});var i=s(7624),o=s(2172);const t={slug:"nvm",title:"Switching Node.js Versions with NVM",authors:["jiaqi"],tags:["Node.js","nvm"]},a=void 0,r={permalink:"/hashicorp-aws/blog/nvm",editUrl:"https://github.com/QubitPi/hashicorp-aws/tree/master/docs/blog/2023-04-21-nvm/index.md",source:"@site/blog/2023-04-21-nvm/index.md",title:"Switching Node.js Versions with NVM",description:"[//]: # (Copyright Jiaqi Liu)",date:"2023-04-21T00:00:00.000Z",formattedDate:"April 21, 2023",tags:[{label:"Node.js",permalink:"/hashicorp-aws/blog/tags/node-js"},{label:"nvm",permalink:"/hashicorp-aws/blog/tags/nvm"}],readingTime:2.69,hasTruncateMarker:!0,authors:[{name:"Jiaqi Liu",title:"Maintainer of hashicorp-aws",url:"https://github.com/QubitPi",imageURL:"https://avatars.githubusercontent.com/u/16126939?v=4",key:"jiaqi"}],frontMatter:{slug:"nvm",title:"Switching Node.js Versions with NVM",authors:["jiaqi"],tags:["Node.js","nvm"]},unlisted:!1,prevItem:{title:"Build and Push Docker Images through GitHub Action",permalink:"/hashicorp-aws/blog/dockerhub-github-actions"},nextItem:{title:"Deploying Jenkins to AWS",permalink:"/hashicorp-aws/blog/jenkins-on-aws"}},l={authorsImageUrls:[void 0]},h=[{value:"Displaying a List of Node.js Versions",id:"displaying-a-list-of-nodejs-versions",level:2},{value:"Switching Among Node.js Versions",id:"switching-among-nodejs-versions",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Changing Node Version",id:"changing-node-version",level:3},{value:"&quot;npm install&quot; Error",id:"npm-install-error",level:3},{value:"GitHub Operation Times Out",id:"github-operation-times-out",level:4},{value:"node-sass Version Issue",id:"node-sass-version-issue",level:4}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",p:"p",pre:"pre",strong:"strong",...(0,o.M)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/nvm-sh/nvm",children:"Node Version Manager"})," is a tool that helps us manage Node versions and is a convenient\nway to install Node. Think of it as npm or Yarn that helps manage Node packages, but instead of packages, NVM manages\nNode versions."]}),"\n",(0,i.jsx)(n.p,{children:"This also means you can install multiple Node versions onto your machine at the same time and switch among them if\nneeded."}),"\n",(0,i.jsx)(n.h2,{id:"displaying-a-list-of-nodejs-versions",children:"Displaying a List of Node.js Versions"}),"\n",(0,i.jsx)(n.p,{children:"We can now view all the versions we downloaded so far with"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"nvm ls\n"})}),"\n",(0,i.jsx)(n.p,{children:"The list then appears:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Error loading node-versions.png",src:s(5240).c+"",width:"1454",height:"588"})}),"\n",(0,i.jsx)(n.p,{children:"The first three lines show the list of Node versions with the arrow pointing to the 14.18.1 version that is currently in\nuse; when a version is used, it displays as green."}),"\n",(0,i.jsx)(n.h2,{id:"switching-among-nodejs-versions",children:"Switching Among Node.js Versions"}),"\n",(0,i.jsxs)(n.p,{children:["The best feature about NVM is the ability to easily switch between different Node versions. Say we must use version\n16.13.0 and then switch to 12.22.7; we can simply run either ",(0,i.jsx)(n.code,{children:"nvm use 12.22.7"})," or ",(0,i.jsx)(n.code,{children:"nvm use 16.13.0"})," to easily switch\ninto either version we need."]}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"changing-node-version",children:"Changing Node Version"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u26a0\ufe0f Warning: This answer does not support Windows OS"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Suppose we would like to down-grade version from 18 to 14, then we can use ",(0,i.jsx)(n.code,{children:"n"})," for node's version management like this.\n",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/n",children:"There"})," is a simple intro for ",(0,i.jsx)(n.code,{children:"n"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm install -g n\nn 6.10.3\n"})}),"\n",(0,i.jsx)(n.p,{children:"This is very easy to use. then you can show your node version:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"node -v\nv6.10.3\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The available node versions can be found on Node's ",(0,i.jsx)(n.a,{href:"https://nodejs.org/en/about/previous-releases",children:"release page"})]}),"\n",(0,i.jsxs)(n.p,{children:["For windows ",(0,i.jsx)(n.a,{href:"https://github.com/coreybutler/nvm-windows",children:"nvm"})," is a well-received tool."]}),"\n",(0,i.jsx)(n.h3,{id:"npm-install-error",children:'"npm install" Error'}),"\n",(0,i.jsx)(n.h4,{id:"github-operation-times-out",children:"GitHub Operation Times Out"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'git config --global url."https://".insteadOf git://\n'})}),"\n",(0,i.jsxs)(n.p,{children:["This will change all of your urls so that they all start with ",(0,i.jsx)(n.code,{children:"https://"})," which shall be working for you."]}),"\n",(0,i.jsx)(n.h4,{id:"node-sass-version-issue",children:"node-sass Version Issue"}),"\n",(0,i.jsxs)(n.p,{children:["Running ",(0,i.jsx)(n.code,{children:"npm install"})," gives"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:".node-gyp/18.7.0/include/node/v8-internal.h:646:38: error: no template named 'remove_cv_t' in namespace 'std'; did you mean 'remove_cv'?\n"})}),"\n",(0,i.jsx)(n.p,{children:"What you're seeing is an error during compilation of node-sass. That's a package processing your Sass/SCSS styles, which\nis written in C++ and only re-packaged as a JavaScript library. The fact it's written in C++ means it needs to be\ncompiled on your device during installation (this is internally done by a tool called node-gyp, which you can spot in\nyour error output, too)."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"The problem is node-sass with the specified version in package.json doesn't support Node version installed on the\nmachine"}),". The ",(0,i.jsx)(n.a,{href:"https://github.com/sass/node-sass",children:"node-sass community"})," needs time to catch up to support it (and\nthat's fair, as it's a volunteer-driven project)."]}),"\n",(0,i.jsxs)(n.p,{children:["Case-by-case soulutions would be either upgrading sass versions or ",(0,i.jsx)(n.a,{href:"#change-node-version",children:"downgrading Node"})]})]})}function c(e={}){const{wrapper:n}={...(0,o.M)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},5240:(e,n,s)=>{s.d(n,{c:()=>i});const i=s.p+"assets/images/node-versions-89fef4e214d145afb847b956dfb90f82.png"},2172:(e,n,s)=>{s.d(n,{I:()=>r,M:()=>a});var i=s(1504);const o={},t=i.createContext(o);function a(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);